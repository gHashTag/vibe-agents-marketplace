# üêù –õ–æ–≥–∏–∫–∞ –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤ Vibee

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ä–æ–µ–≤–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞

**–†–æ–µ–≤–æ–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç** - —ç—Ç–æ –ø–æ–¥—Ö–æ–¥, –≥–¥–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤-–ø—á–µ–ª–æ–∫ —Ä–∞–±–æ—Ç–∞—é—Ç together –ø–æ–¥ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ VIBE-QUEEN (vibe-lead).

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–æ–µ–≤–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞

1. **–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è** - –∫–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –∞–≤—Ç–æ–Ω–æ–º–µ–Ω –≤ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏
2. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è** - vibe-lead —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–æ–π
3. **–°–∞–º–æ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** - –∞–≥–µ–Ω—Ç—ã —Å–∞–º–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç –∑–∞–¥–∞—á–∏
4. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è
5. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - –µ—Å–ª–∏ –æ–¥–∏–Ω –∞–≥–µ–Ω—Ç –ø–∞–¥–∞–µ—Ç, –¥—Ä—É–≥–∏–µ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∞–≥–µ–Ω—Ç–æ–≤

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   USER REQUEST  ‚îÇ
                    ‚îÇ  (–†–∞–¥—É–∂–Ω—ã–π –º–æ—Å—Ç)‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   VIBE-QUEEN    ‚îÇ
                    ‚îÇ    (vibe-lead)  ‚îÇ
                    ‚îÇ  üëë –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ                ‚îÇ                ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   SPECIALIST ‚îÇ  ‚îÇ  DOMAIN     ‚îÇ  ‚îÇ INFRASTRUCT ‚îÇ
    ‚îÇ   AGENTS     ‚îÇ  ‚îÇ  EXPERTS    ‚îÇ  ‚îÇ   AGENTS    ‚îÇ
    ‚îÇ              ‚îÇ  ‚îÇ             ‚îÇ  ‚îÇ             ‚îÇ
    ‚îÇ ‚Ä¢ vibe-spec  ‚îÇ  ‚îÇ ‚Ä¢ vibe-     ‚îÇ  ‚îÇ ‚Ä¢ vibe-     ‚îÇ
    ‚îÇ ‚Ä¢ vibe-test  ‚îÇ  ‚îÇ   elizaos   ‚îÇ  ‚îÇ   devops    ‚îÇ
    ‚îÇ ‚Ä¢ vibe-      ‚îÇ  ‚îÇ ‚Ä¢ vibe-     ‚îÇ  ‚îÇ ‚Ä¢ vibe-     ‚îÇ
    ‚îÇ   coder      ‚îÇ  ‚îÇ   ai-llm    ‚îÇ  ‚îÇ   sentry    ‚îÇ
    ‚îÇ ‚Ä¢ vibe-      ‚îÇ  ‚îÇ ‚Ä¢ vibe-     ‚îÇ  ‚îÇ ‚Ä¢ vibe-     ‚îÇ
    ‚îÇ   critic     ‚îÇ  ‚îÇ   mcp       ‚îÇ  ‚îÇ   langfuse  ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                 ‚îÇ                 ‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   VIBE-SENTRY   ‚îÇ
                    ‚îÇ   (–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéõÔ∏è –ê–ª–≥–æ—Ä–∏—Ç–º –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏

```typescript
import { TaskEither, right, left, chain, pipe } from '@/utils/functional'

interface ArbitrationRequest {
  userRequest: string
  context: UserContext
  priority: 'low' | 'medium' | 'high' | 'critical'
  deadline?: Date
}

interface ArbitrationResult {
  selectedAgents: AgentSelection[]
  executionOrder: ExecutionOrder
  strategy: ExecutionStrategy
  estimatedTime: number
  resources: ResourceAllocation
}

/**
 * –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∞—Ä–±–∏—Ç—Ä - –≤—ã–±–∏—Ä–∞–µ—Ç –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –∑–∞–¥–∞—á–∏
 */
export const arbitrateAgents = (
  request: ArbitrationRequest
): TaskEither<Error, ArbitrationResult> => {
  return pipe(
    // 1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    analyzeUserRequest(request),
    chain(analysis =>
      // 2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç—Ä–µ–±—É–µ–º—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏
      pipe(
        extractRequiredCompetencies(analysis),
        chain(competencies =>
          // 3. –ò—â–µ–º –∞–≥–µ–Ω—Ç–æ–≤ —Å –Ω—É–∂–Ω—ã–º–∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è–º–∏
          pipe(
            findMatchingAgents(competencies),
            chain(agents =>
              // 4. –û—Ü–µ–Ω–∏–≤–∞–µ–º –Ω–∞–≥—Ä—É–∑–∫—É –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
              pipe(
                assessAgentCapacity(agents),
                chain(capacity =>
                  // 5. –í—ã–±–∏—Ä–∞–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é
                  pipe(
                    selectOptimalAgents(capacity),
                    chain(selection =>
                      // 6. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                      pipe(
                        defineExecutionOrder(selection),
                        chain(order =>
                          // 7. –°–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–ª–∞–Ω –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏
                          pipe(
                            createArbitrationPlan(selection, order),
                            right
                          )
                        )
                      )
                    )
                  )
                )
              )
            )
          )
        )
      )
    )
  )
}

/**
 * –ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 */
const analyzeUserRequest = (request: ArbitrationRequest): TaskEither<Error, RequestAnalysis> => {
  return async () => {
    const { userRequest } = request

    // –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
    const keywords = extractKeywords(userRequest)

    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∑–∞–¥–∞—á–∏
    const taskType = classifyTaskType(userRequest)

    // –û—Ü–µ–Ω–∏–≤–∞–µ–º —Å–ª–æ–∂–Ω–æ—Å—Ç—å
    const complexity = assessComplexity(userRequest)

    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ–º–µ–Ω—ã
    const domains = identifyDomains(keywords)

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å
    const isCritical = detectCriticalKeywords(userRequest)

    return right({
      keywords,
      taskType,
      complexity,
      domains,
      isCritical,
      confidence: calculateConfidence(keywords, domains),
    })
  }
}

/**
 * –ü–æ–∏—Å–∫ –∞–≥–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è–º
 */
const findMatchingAgents = (competencies: RequiredCompetency[]): TaskEither<Error, AgentMatch[]> => {
  return async () => {
    const allAgents = getAllRegisteredAgents()

    const matches = allAgents
      .map(agent => ({
        agent,
        matchScore: calculateMatchScore(agent, competencies),
        availability: checkAgentAvailability(agent),
        currentLoad: getAgentCurrentLoad(agent),
      }))
      .filter(match => match.matchScore > 0.5) // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
      .sort((a, b) => b.matchScore - a.matchScore) // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é

    return right(matches)
  }
}

/**
 * –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
 */
const defineExecutionOrder = (selection: AgentSelection[]): TaskEither<Error, ExecutionOrder> => {
  return right({
    type: determineExecutionType(selection),
    sequence: createExecutionSequence(selection),
    parallelGroups: groupParallelAgents(selection),
    dependencies: buildDependencyGraph(selection),
  })
}

/**
 * –¢–∏–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
 */
type ExecutionType =
  | 'sequential'    // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
  | 'parallel'      // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
  | 'pipeline'      // –ö–æ–Ω–≤–µ–π–µ—Ä (–ø–æ—ç—Ç–∞–ø–Ω–æ)
  | 'hierarchical'  // –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏ (–ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã–µ)

/**
 * –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
 */
const createExecutionSequence = (agents: AgentSelection[]): AgentExecutionStep[] => {
  return agents
    .sort((a, b) => a.priority - b.priority) // –ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
    .map((agent, index) => ({
      agentId: agent.agent.id,
      stepNumber: index + 1,
      estimatedDuration: agent.estimatedDuration,
      dependencies: agent.dependencies,
      canRunInParallel: agent.canRunInParallel,
    }))
}
```

---

## üìä –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏

### 1. Sequential (–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è)

```typescript
{
  type: 'sequential',
  description: '–ê–≥–µ–Ω—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞—á–∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏',
  example: 'spec ‚Üí tester ‚Üí coder ‚Üí critic',
  useWhen: '–°–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏',
}
```

### 2. Parallel (–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è)

```typescript
{
  type: 'parallel',
  description: '–ê–≥–µ–Ω—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞—á–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ',
  example: '[sentry, devops, langfuse] –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ',
  useWhen: '–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∑–∞–¥–∞—á–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è',
}
```

### 3. Pipeline (–ö–æ–Ω–≤–µ–π–µ—Ä)

```typescript
{
  type: 'pipeline',
  description: '–ó–∞–¥–∞—á–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫—É –∞–≥–µ–Ω—Ç–æ–≤',
  example: 'data ‚Üí analyzer ‚Üí processor ‚Üí validator ‚Üí output',
  useWhen: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—ç—Ç–∞–ø–Ω–æ',
}
```

### 4. Hierarchical (–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è)

```typescript
{
  type: 'hierarchical',
  description: '–ì–ª–∞–≤–Ω—ã–π –∞–≥–µ–Ω—Ç –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã—Ö',
  example: 'lead ‚Üí [spec, tester, coder] ‚Üí critic',
  useWhen: '–ö—Ä—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤',
}
```

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ –∞–≥–µ–Ω—Ç–æ–≤

### –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π

```typescript
interface CompetencyMatrix {
  // –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏
  technologies: {
    typescript: number      // 0-1, –≤–∞–∂–Ω–æ—Å—Ç—å TypeScript
    elizaos: number         // 0-1, –≤–∞–∂–Ω–æ—Å—Ç—å ElizaOS
    react: number           // 0-1, –≤–∞–∂–Ω–æ—Å—Ç—å React
    nodejs: number          // 0-1, –≤–∞–∂–Ω–æ—Å—Ç—å Node.js
    // ... –¥—Ä—É–≥–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
  }

  // –î–æ–º–µ–Ω–Ω—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏
  domains: {
    framework: number       // 0-1, —Ä–∞–±–æ—Ç–∞ —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏
    testing: number         // 0-1, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    security: number        // 0-1, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    devops: number          // 0-1, DevOps
    ai: number              // 0-1, –ò–ò/ML
    // ... –¥—Ä—É–≥–∏–µ –¥–æ–º–µ–Ω—ã
  }

  // –¢–∏–ø—ã –∑–∞–¥–∞—á
  taskTypes: {
    development: number     // 0-1, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
    debugging: number       // 0-1, –æ—Ç–ª–∞–¥–∫–∞
    refactoring: number     // 0-1, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
    optimization: number    // 0-1, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
    documentation: number   // 0-1, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    // ... –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –∑–∞–¥–∞—á
  }
}

/**
 * –†–∞—Å—á–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∞–≥–µ–Ω—Ç–∞ –∑–∞–¥–∞—á–µ
 */
const calculateMatchScore = (
  agent: VibeAgent,
  competencies: RequiredCompetency[]
): number => {
  let totalScore = 0
  let maxPossibleScore = 0

  for (const competency of competencies) {
    const weight = competency.weight // –í–∞–∂–Ω–æ—Å—Ç—å –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ (0-1)
    const agentLevel = getAgentCompetencyLevel(agent, competency.name) // 0-1

    totalScore += weight * agentLevel
    maxPossibleScore += weight
  }

  return maxPossibleScore > 0 ? totalScore / maxPossibleScore : 0
}
```

### –û—Ü–µ–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∞–≥–µ–Ω—Ç–∞

```typescript
interface AgentCapacity {
  currentTasks: number
  maxConcurrentTasks: number
  averageTaskDuration: number
  isAvailable: boolean
  loadPercentage: number // 0-100
}

/**
 * –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∞–≥–µ–Ω—Ç–∞
 */
const assessAgentCapacity = (matches: AgentMatch[]): TaskEither<Error, AgentCapacity[]> => {
  return right(
    matches.map(match => ({
      ...match,
      capacity: {
        currentTasks: getCurrentTaskCount(match.agent.id),
        maxConcurrentTasks: match.agent.maxConcurrentTasks || 3,
        averageTaskDuration: getAverageTaskDuration(match.agent.id),
        isAvailable: isAgentAvailable(match.agent.id),
        loadPercentage: calculateLoadPercentage(match.agent.id),
      },
      priority: calculateArbitrationPriority(match, match.capacity),
    }))
  )
}
```

---

## üîÑ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á

```typescript
/**
 * –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
 */
export const monitorAndRedistribute = (
  executionPlan: ExecutionPlan
): TaskEither<Error, RedistributionResult> => {
  return pipe(
    // –°–ª–µ–¥–∏–º –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
    monitorExecution(executionPlan),
    chain(status =>
      // –ï—Å–ª–∏ –∞–≥–µ–Ω—Ç –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –∏–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
      pipe(
        identifyIssues(status),
        chain(issues =>
          // –ü–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–∞–¥–∞—á–∏
          redistributeTasks(issues, executionPlan)
        )
      )
    )
  )
}

/**
 * –ü—Ä–∏–º–µ—Ä—ã –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
 */
const redistributeTasks = (
  issues: ExecutionIssue[],
  plan: ExecutionPlan
): TaskEither<Error, RedistributionResult> => {
  switch (issues[0]?.type) {
    case 'agent-overloaded':
      // –ü–µ—Ä–µ–Ω–æ—Å–∏–º –∑–∞–¥–∞—á—É –∫ –º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º—É –∞–≥–µ–Ω—Ç—É
      return transferTaskToBackupAgent(issues[0])

    case 'agent-unavailable':
      // –ù–∞–∑–Ω–∞—á–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
      return assignBackupAgent(issues[0])

    case 'task-failing':
      // –ú–µ–Ω—è–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
      return changeExecutionStrategy(issues[0])

    default:
      return right({ status: 'no-action-needed' })
  }
}
```

---

## üéõÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞

```yaml
# –í —Ñ–∞–π–ª–µ –∞–≥–µ–Ω—Ç–∞ (YAML frontmatter)
vibe_arbitration:
  max_concurrent_tasks: 3      # –ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
  backup_agents:               # –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
    - vibe-coder
    - vibe-typescript
  preferred_execution_type: sequential  # –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Ç–∏–ø –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  arbitration_priority: 5      # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏ (1-10)
  cooldown_period: 300         # –ü–µ—Ä–∏–æ–¥ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è –ø–æ—Å–ª–µ –∑–∞–¥–∞—á–∏ (—Å–µ–∫)
  trust_level: 0.9             # –£—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è (0-1)
  auto_scaling: true           # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```typescript
// src/config/arbitration.config.ts
export const ARBITRATION_CONFIG = {
  // –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  defaultExecutionType: 'hierarchical',
  maxChainLength: 5,
  timeoutPerAgent: 300000, // 5 –º–∏–Ω—É—Ç

  // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
  monitoringInterval: 5000, // 5 —Å–µ–∫—É–Ω–¥
  redistributeThreshold: 0.8, // 80% –Ω–∞–≥—Ä—É–∑–∫–∏

  // –ë—ç–∫–∞–ø –∞–≥–µ–Ω—Ç—ã
  backupAgentPool: [
    'vibe-lead',        // –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑–µ—Ä–≤
    'vibe-coder',       // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
    'vibe-spec',        // –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É
  ],

  // –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏
  criticalTaskTimeout: 600000, // 10 –º–∏–Ω—É—Ç
  criticalAgentPool: [
    'vibe-lead',
    'vibe-spec',
    'vibe-tester',
  ],
}
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏

```typescript
interface ArbitrationMetrics {
  // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏
  averageSelectionTime: number       // –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–±–æ—Ä–∞ –∞–≥–µ–Ω—Ç–æ–≤
  selectionAccuracy: number          // –¢–æ—á–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ (0-1)
  userSatisfactionScore: number      // –û—Ü–µ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (0-10)

  // –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  tasksCompleted: number             // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
  averageTaskDuration: number        // –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∑–∞–¥–∞—á–∏
  successRate: number                // –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

  // –†–µ—Å—É—Ä—Å—ã
  agentUtilization: Record<string, number>    // –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≥–µ–Ω—Ç–æ–≤
  totalIdleTime: number              // –û–±—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è
  redistributeCount: number          // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π

  // –ö–∞—á–µ—Å—Ç–≤–æ
  reworkRate: number                 // –ü—Ä–æ—Ü–µ–Ω—Ç –¥–æ—Ä–∞–±–æ—Ç–æ–∫
  errorRate: number                  // –ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
  userInterventionRate: number       // –í–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}

/**
 * –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏
 */
const collectArbitrationMetrics = (): TaskEither<Error, ArbitrationMetrics> => {
  return right({
    averageSelectionTime: calculateAverageSelectionTime(),
    selectionAccuracy: calculateSelectionAccuracy(),
    userSatisfactionScore: getAverageUserRating(),
    tasksCompleted: getCompletedTaskCount(),
    averageTaskDuration: getAverageTaskDuration(),
    successRate: calculateSuccessRate(),
    agentUtilization: getAgentUtilization(),
    totalIdleTime: getTotalIdleTime(),
    redistributeCount: getRedistributionCount(),
    reworkRate: calculateReworkRate(),
    errorRate: calculateErrorRate(),
    userInterventionRate: calculateUserInterventionRate(),
  })
}
```

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏

### 1. –ó–∞–¥–∞—á–∞: "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω –¥–ª—è ElizaOS"

```typescript
// –ê–Ω–∞–ª–∏–∑
{
  keywords: ['—Å–æ–∑–¥–∞—Ç—å', '–ø–ª–∞–≥–∏–Ω', 'ElizaOS'],
  domains: ['framework', 'development'],
  taskType: 'development',
  complexity: 'medium',
  isCritical: false,
}

// –í—ã–±–æ—Ä –∞–≥–µ–Ω—Ç–æ–≤
[
  {
    agent: 'vibe-spec',
    matchScore: 0.95,
    role: '–°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞',
  },
  {
    agent: 'vibe-elizaos',
    matchScore: 0.90,
    role: '–≠–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –ø–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É',
  },
  {
    agent: 'vibe-tester',
    matchScore: 0.85,
    role: '–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤',
  },
  {
    agent: 'vibe-coder',
    matchScore: 0.80,
    role: '–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞',
  },
]

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
{
  type: 'hierarchical',
  sequence: ['vibe-spec ‚Üí vibe-elizaos ‚Üí vibe-tester ‚Üí vibe-coder ‚Üí vibe-critic'],
  parallelGroups: [], // –ù–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
  estimatedTime: 30, // –º–∏–Ω—É—Ç
}
```

### 2. –ó–∞–¥–∞—á–∞: "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å CI/CD"

```typescript
// –ê–Ω–∞–ª–∏–∑
{
  keywords: ['–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è', 'CI/CD', '–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å'],
  domains: ['cicd', 'devops'],
  taskType: 'optimization',
  complexity: 'high',
  isCritical: true,
}

// –í—ã–±–æ—Ä –∞–≥–µ–Ω—Ç–æ–≤
[
  {
    agent: 'vibe-cicd',
    matchScore: 0.98,
    role: '–û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ CI/CD',
  },
  {
    agent: 'vibe-devops',
    matchScore: 0.92,
    role: '–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞',
  },
  {
    agent: 'vibe-sentry',
    matchScore: 0.70,
    role: '–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
  },
]

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
{
  type: 'parallel',
  parallelGroups: [
    ['vibe-cicd', 'vibe-devops'],
    ['vibe-sentry'], // –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞
  ],
  estimatedTime: 60, // –º–∏–Ω—É—Ç
}
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- [ ] **–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∑–∞–¥–∞—á–∏
- [ ] **–ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π** - –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –∞–≥–µ–Ω—Ç–æ–≤
- [ ] **–ü–æ–∏—Å–∫ –∞–≥–µ–Ω—Ç–æ–≤** - –Ω–∞—Ö–æ–¥–∏—Ç –∞–≥–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è–º
- [ ] **–û—Ü–µ–Ω–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞–≥–µ–Ω—Ç–æ–≤
- [ ] **–û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –≤—ã–±–æ—Ä–∞** - –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é
- [ ] **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å
- [ ] **–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–¥–∞—á–∏
- [ ] **–ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- [ ] **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã** - —Å–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–∞ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [ ] **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å** - –∞—Ä–±–∏—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —É—á–∞—Å—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞
- [ ] **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ —Å–±–æ—è—Ö –∞–≥–µ–Ω—Ç–æ–≤
- [ ] **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –≤—ã–±–æ—Ä –∞–≥–µ–Ω—Ç–æ–≤ –∑–∞–Ω–∏–º–∞–µ—Ç < 1 —Å–µ–∫—É–Ω–¥—ã
- [ ] **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 100+ –∞–≥–µ–Ω—Ç–∞–º–∏
- [ ] **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- [ ] **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–∞–∫–∏–µ –∞–≥–µ–Ω—Ç—ã –≤—ã–±—Ä–∞–Ω—ã –∏ –ø–æ—á–µ–º—É

---

**–ê—Ä–±–∏—Ç—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤ Vibee - –£–º–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤ —Ä–æ–µ –ø—á–µ–ª–æ–∫! üêù‚ú®**
