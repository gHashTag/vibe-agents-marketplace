{
  "version": "2.0.60",
  "description": "Хуки автоматизации для Vibe Agents",
  "hooks": {
    "post_init": {
      "description": "Инициализация системы агентов",
      "enabled": true,
      "actions": [
        {
          "type": "register_agents",
          "description": "Регистрация всех 21 агентов",
          "path": "../agents"
        },
        {
          "type": "register_skills",
          "description": "Регистрация всех 21 навыков",
          "path": "../skills"
        },
        {
          "type": "load_templates",
          "description": "Загрузка шаблонов кода",
          "path": "../templates"
        },
        {
          "type": "setup_logging",
          "description": "Настройка системы логирования",
          "config": {
            "level": "info",
            "format": "json",
            "output": "console"
          }
        }
      ]
    },
    "pre_development": {
      "description": "Подготовка к разработке",
      "enabled": true,
      "actions": [
        {
          "type": "validate_requirements",
          "description": "Валидация требований проекта",
          "runIf": "has_package_json"
        },
        {
          "type": "setup_testing",
          "description": "Настройка тестовой среды",
          "runIf": "no_test_directory"
        },
        {
          "type": "install_dependencies",
          "description": "Установка базовых зависимостей",
          "runIf": "has_package_json",
          "packages": [
            "typescript",
            "vitest",
            "@types/node"
          ]
        }
      ]
    },
    "post_test": {
      "description": "После выполнения тестов",
      "enabled": true,
      "actions": [
        {
          "type": "generate_report",
          "description": "Генерация отчёта о покрытии",
          "format": "markdown"
        },
        {
          "type": "upload_metrics",
          "description": "Загрузка метрик в Sentry",
          "runIf": "has_sentry_dsn"
        }
      ]
    },
    "pre_commit": {
      "description": "Пред-коммит хуки",
      "enabled": true,
      "actions": [
        {
          "type": "run_linters",
          "description": "Запуск линтеров"
        },
        {
          "type": "run_tests",
          "description": "Запуск тестов",
          "coverage_threshold": 80
        },
        {
          "type": "check_types",
          "description": "Проверка типов TypeScript"
        },
        {
          "type": "format_code",
          "description": "Форматирование кода",
          "style": "prettier"
        }
      ]
    },
    "post_deployment": {
      "description": "После деплоя",
      "enabled": true,
      "actions": [
        {
          "type": "health_check",
          "description": "Проверка здоровья системы",
          "timeout": 30
        },
        {
          "type": "send_notification",
          "description": "Уведомление о деплое",
          "channels": ["telegram", "email"]
        },
        {
          "type": "update_metrics",
          "description": "Обновление метрик производительности"
        }
      ]
    },
    "error_handler": {
      "description": "Обработка ошибок",
      "enabled": true,
      "actions": [
        {
          "type": "log_error",
          "description": "Логирование ошибки",
          "level": "error"
        },
        {
          "type": "send_alert",
          "description": "Отправка алерта",
          "severity": "critical",
          "channels": ["sentry"]
        },
        {
          "type": "generate_stacktrace",
          "description": "Генерация stack trace",
          "include_context": true
        }
      ]
    },
    "code_protection": {
      "description": "Защита критических файлов",
      "enabled": true,
      "files": {
        "package.json": {
          "protected": true,
          "require_review": true,
          "backup_before_change": true
        },
        "tsconfig.json": {
          "protected": true,
          "require_review": true
        },
        ".env": {
          "protected": true,
          "never_commit": true,
          "require_additional_review": true
        }
      },
      "actions": [
        {
          "type": "prevent_deletion",
          "description": "Предотвращение удаления критических файлов",
          "files": ["package.json", "tsconfig.json", ".git"]
        },
        {
          "type": "check_secrets",
          "description": "Проверка на секреты в коде",
          "patterns": [
            "password",
            "api_key",
            "secret",
            "token"
          ]
        },
        {
          "type": "validate_imports",
          "description": "Валидация импортов",
          "block_internal_only": false
        }
      ]
    },
    "agent_orchestration": {
      "description": "Оркестрация агентов",
      "enabled": true,
      "strategies": {
        "sequential": {
          "description": "Последовательное выполнение агентов",
          "use_case": "dependent_tasks"
        },
        "parallel": {
          "description": "Параллельное выполнение",
          "max_concurrent": 5,
          "use_case": "independent_tasks"
        },
        "hierarchical": {
          "description": "Иерархическое выполнение",
          "queue_manager": "vibe-queen",
          "use_case": "complex_workflows"
        }
      }
    },
    "skill_activation": {
      "description": "Активация навыков",
      "enabled": true,
      "triggers": {
        "keywords": {
          "description": "Активация по ключевым словам",
          "case_sensitive": false,
          "match_threshold": 0.8
        },
        "context": {
          "description": "Активация по контексту",
          "analyze_intent": true,
          "confidence_threshold": 0.75
        },
        "manual": {
          "description": "Ручная активация",
          "command_prefix": "/skill"
        }
      },
      "auto_activate": [
        "vibe-elizaos",
        "vibe-security",
        "vibe-typescript",
        "vibe-tester",
        "vibe-devops"
      ]
    }
  },
  "settings": {
    "debug_mode": false,
    "log_level": "info",
    "enable_metrics": true,
    "enable_sentry": true,
    "max_retry_attempts": 3,
    "timeout": {
      "agent_execution": 300,
      "skill_activation": 60,
      "hook_execution": 30
    },
    "performance": {
      "enable_profiling": false,
      "enable_caching": true,
      "cache_ttl": 3600
    }
  },
  "integrations": {
    "sentry": {
      "enabled": true,
      "environment": "production",
      "traces_sample_rate": 0.1
    },
    "langfuse": {
      "enabled": true,
      "public_key": "${LANGFUSE_PUBLIC_KEY}",
      "secret_key": "${LANGFUSE_SECRET_KEY}"
    },
    "mcp": {
      "enabled": true,
      "servers": [
        "fal",
        "neon",
        "sentry"
      ]
    }
  }
}
